# Docker

Docker – это платформа для разработки, доставки и выполнения приложений с использованием контейнеризации.

Контейнеры Docker позволяют упаковывать приложения и их зависимости в изолированные окружения, которые могут быть запущены на любой машине, поддерживающей Docker, без проблем совместимости.

Основные компоненты Docker включают:
- **Docker Engine**: Это среда выполнения, которая управляет контейнерами Docker. Она включает в себя демон (dockerd), который работает на хост-машине, и клиентский интерфейс (docker), который предоставляет команды для взаимодействия с демоном.
- **Docker Images**: Образы Docker представляют собой исполняемые пакеты, которые содержат все необходимое для запуска приложения, включая код, зависимости, настройки и т.д. Образы могут быть созданы на основе Dockerfile, который описывает инструкции по сборке образа.
- **Docker Containers**: Контейнеры Docker являются экземплярами образов. Они создаются из образа и позволяют запустить приложение в изолированной среде. Контейнеры могут быть запущены, остановлены, перемещены и удалены.
- **Docker Compose**: Это инструмент, который позволяет определить и управлять многоконтейнерными приложениями с помощью файла конфигурации YAML. Docker Compose позволяет запускать и масштабировать несколько контейнеров вместе, определять их зависимости и настройки.
---
Создать Dockerfile
```
touch Dockerfile
```
---

Заполнить Dockerfile
```
FROM ubuntu
RUN apt update && apt install -y mc
```
Дополнительно:
- FROM — определяет, что будет использоваться в качестве базового образа (в данном случае образ ubuntu).
- RUN — запускает команду.
---
Создать новый docker образ(контейнер) из Dockerfile
```
docker build -t myapp:latest .
```
ИЛИ
```
docker build -f /path/to/Dockerfile --build-arg VERSION=1.0 -t myapp:v1.0 .
```

Дополнительно:
- `-t` -  созадёт тег(идентификатор), который связывает образ с конкретной версией или меткой.
- `-f` -  объявить полный путь к Dockerfile.
- `.` - путь к директории с Dockerfile
---

Список образов
```
docker images
```
---

Запуск контейнера
```
docker run 
```
---

Построить

Создание контекста:

```
docker context create some-context-label --docker "host=ssh://user@remote_server_ip"

docker context use some-context-label

docker ps
# A list of remote containers on my local machine! It works!
```
Команды:
- `-it`: Создает интерактивный терминал (TTY) в контейнере, позволяя вам взаимодействовать с командной строкой внутри контейнера.
- `-d или --detach`: Запускает контейнер в фоновом режиме (detached mode), освобождая терминал после запуска контейнера.
- `-u или --user`: Устанавливает имя пользователя или UID (User Identifier), под которым будет выполняться процесс внутри контейнера.
- `-rem или --remote`: Указывает, что команда должна быть выполнена на удаленном Docker-хосте, а не на локальной машине.

Source: [Добавить в констект докера машину](https://stackoverflow.com/questions/60425053/vs-code-connect-a-docker-container-in-a-remote-server): смотри комментарий.
